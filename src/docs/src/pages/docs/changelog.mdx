# Changelog
 
Nekos API does not follow a strict semantic versioning. Although there are many similarities, we:

- Do not upgrade the major version on every breaking change

## Log

### `v4.1.0`

- `Fixed`: `/images/random/file` returning 500 error.
- `Added`: `without_tags` query filter for image endpoints.

### `v4.0.0`

> January 8, 2025

- `Added`: Version 4 of the API.
- `Removed`: Version 3 of the API.

### `v3.6.1`

> April 4, 2024

- `Fixed`: `/images/report` endpoint.

### `v3.6.0`

> Feburary 25, 2024

- `Added`: `/images/report` endpoint.
- `Removed`: `/images/:id/report` endpoint.

### `v3.5.0`

> Feburary 25, 2024

- `Added`: Useful links to API's base endpoint.
- `Removed`: `main_image` field from characters.

This update has had some internal changes, like automatic image rating. Automatic image and character tagging have been introduced in a previous version.

### `v3.4.2`

> December 29, 2023

- `Fixed`: 500 error in character endpoints.

### `v3.4.1`

> November 17, 2023

- `Fixed`: Tags filter in `/images`, `/images/random` and `/images/random/file` endpoints
- `Fixed`: Characters filter in `/images`, `/images/random` and `/images/random/file` endpoints

### `v3.4.0`

> November 14, 2023

- `Fixed`: Weird error schema in sync resource retrieving endpoints
- `Added`: `/images/:id/tags` endpoint
- `Added`: `/images/:id/report` endpoint
- `Added`: `/images/:id/artist` endpoint
- `Added`: `/images/:id/characters` endpoint
- `Added`: `/images/tags/:id/images` endpoint
- `Added`: `/artists/:id/images` endpoint
- `Added`: `/characters/:id/images` endpoint

### `v3.3.0`

> November 12, 2023

- `Added`: `/images/random/file` endpoint to get a random image file.

### `v3.2.0`

> November 2, 2023

- `Changed`: `/images/random` now returns a list with multiple random images, limited by `?limit`

### `v3.1.0`

> November 1, 2023

- `Added`: `id_v2` fields in all objects
- `Fixed`: Typo in `/images` filtering by tags and characters
- `Changed`: `/images` endpoint now allows to filter for one artist at a time
- `Changed`: `/images` endpoint filtering by tags and characters now require images to have all tags/characters instead of only one of them

### `v3.0.0`

> October 27, 2023

- `Added`: v3.0.0
- `Added`: Artist policies
- `Added`: [NekoSauce](https://nekosauce.org) sauce ID is now in image objects
- `Added`: `is_animated` and `duration` attributes to images
- `Added`: Character height and weight
- `Added`: [OpenAPI schema](https://api.nekosapi.com/v3/openapi.json)
- `Changed`: Colors are now represented as arrays of 3 integers (R, G, B)
- `Changed`: IDs are now integers
- `Changed`: Restructured all schemas
- `Changed`: Categories were renamed to tags
- `Changed`: GIFs were merged with images
- `Removed`: Content-Type header requirement
- `Removed`: Rate limits
- `Removed`: Embeds API
- `Removed`: WebSocket APIs
- `Removed`: Webhooks APIs
- `Removed`: All user-related endpoints
- `Removed`: JSON:API specification
- `Removed`: Relationships endpoints
- `Removed`: `<APIRequest/>` component for API endpoint documentation

### `v2.7.0`

> September 1, 2023

- `Added`: [https://cdn.nekosapi.com/images.json](https://cdn.nekosapi.com/images.json) file for image metadata downloading
- `Added`: Redirect from [/images.json](/docs/rest-api/images/resource#imagesjson) to [https://cdn.nekosapi.com/images.json](https://cdn.nekosapi.com/images.json)

### `v2.6.0`

> August 5, 2023

- `Added`: `/applications/@me` endpoint for authentication with client credentials
- `Fixed`: `/applications` endpoint raising a 500 error
- `Fixed`: Permissions for authorization with client credentials
- `Changed`: GIF schema
- `Removed`: **16:9** version of the GIFs ("constant")

### `v2.5.0`

> July 25, 2023

- `Added`: Image objects now return their perceptual hash
- `Removed`: Dropped support for **regex** and **iregex** filter lookup methods in all endpoints

### `v2.4.4`

> July 24, 2023

- `Fixed`: Parse error when sending a JSON body to `/v2/users/:id`.

### `v2.4.3`

> July 24, 2023

- `Changed`: Usernames now can only be between 4 and 32 characters long, and can only contain lowercase letters, numbers, underscores, and dots.

### `v2.4.2`

> July 23, 2023

- `Added`: Username and nickname filters in the [search for a user](/docs/rest-api/users/resource#search-for-a-user) endpoint.

### `v2.4.1`

> July 20, 2023

- `Added`: Added `report` query parameter in the [report an image](/docs/rest-api/images/resource#report-an-image) endpoint.

### `v2.4.0`

> July 18, 2023

- `Added`: [Report an image](/docs/rest-api/images/resource#report-an-image) endpoint.

### `v2.2.3`

> July 9, 2023

- `Changed`: The image verification status updating endpoint's method was changed from `POST` to `PATCH` since the resource is updated partially and not completely

### `v2.2.2`

> July 9, 2023

- `Fixed`: 405 error write methods in which the permission checking was done using a method decorator

### `v2.2.1`

> July 3, 2023

- `Fixed`: Non-superuser users not being able to update their relationships
- `Fixed`: Non-superuser users not being able to update their list's images

### `v2.2.0`

> June 23, 2023

- `Added`: `user` object in `meta` object in image resurce objects with `liked` and `saved` attributes.
- `Added`: `user` object in `meta` object in list resource objects with `isFollowing` attribute.
- `Added`: `user` object in `meta` object in artist resource objects with `isFollowing` attribute.
- `Added`: `user` object in `meta` object in category resource objects with `isFollowing` attribute.
- `Added`: `user` object in `meta` object in character resource objects with `isFollowing` attribute.
- `Changed`: Renamed `user` to `owner` in list resource.
- `Fixed`: Permission checking for write operations in user and lists endpoints. 

### `v2.1.1`

> June 18, 2023

- `Updated`: OAuth token fetching now only supports form data. This is not a breaking change that will affect users since these endpoint is still unaccessible.

### `v2.1.0`

> June 5, 2023

- `Fixed`: Sudden 500 errors in **/v2/gifs**
- `Added`: Shared resource tokens for images and GIFs

### `v2.0.0` (stable)

> June 4, 2023

- `Added`: v2
- `Added`: [GIFs](/docs/rest-api/gifs/resource)
- `Added`: Reactions
- `Added`: [Image relationship search filters](/docs/rest-api/images/resource)
- `Added`: [Artist relationship search filters](/docs/rest-api/artists/resource)
- `Added`: [Category relationship search filters](/docs/rest-api/categories/resource)
- `Added`: [Character relationship search filters](/docs/rest-api/characters/resource)
- `Updated`: File endpoints now don't have an "uploads/" prefix
- `Removed`: Image save endpoint
- `Removed`: Image like endpoint
- `Removed`: User follow endpoint
- `Removed`: Artist follow endpoint
- `Removed`: Category follow endpoint
- `Removed`: Character follow endpoint
- `Fixed`: Permission checking on relationship endpoint write methods

### `v2.0.0-beta.2`

> May 2, 2023

- `Added`: [API status](/api/status) endpoint

### `v2.0.0-beta.1`

> May 1, 2023

- `Added`: v2 beta version
- `Added`: Changelog
- `Added`: Embeds API
- `Added`: Image embed (light/dark, vertical/horizontal, palette on/off, nekos logo on/off)
- `Added`: [Upload an image's file](/docs/rest-api/images/resource/#upload-an-image) endpoint
